@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --vital-orange: 249 115 22; /* #F97316 */
    --sky-blue: 14 165 233;     /* #0EA5E9 */
  }

  /* Reset estructural: El Nido es un lienzo infinito con scroll natural */
  html, body {
    /* Permitimos que el contenido defina la altura total */
    height: auto; 
    min-height: 100%;
    margin: 0;
    padding: 0;
    /* overscroll-behavior-y: contain evita el bloqueo por rebote en iOS */
    overscroll-behavior-y: contain; 
    /* Forzamos el scroll vertical para que la agenda fluya sin cortes */
    overflow-y: auto !important;
    scroll-behavior: smooth;
  }

  body {
    @apply text-slate-800 antialiased bg-slate-50;
    font-family: 'Nunito', sans-serif;
    /* El body debe ser relativo para que el scroll fluya con el contenido */
    position: relative; 
    -webkit-tap-highlight-color: transparent;
  }

  #root {
    /* El root debe poder crecer libremente con la Tribu */
    min-height: 100vh;
    @apply relative flex flex-col;
  }
}

@layer components {
  /* 1. GLASSMORPHISM PREMIUM (Identidad KidUs) */
  .glass-card {
    @apply backdrop-blur-2xl bg-white/70 border border-white/40 shadow-sm;
    border-radius: 3.5rem; 
    transition: all 400ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Efecto de presión táctil sutil */
  .glass-card:active {
    @apply scale-[0.98];
  }

  /* 2. BOTÓN PRINCIPAL (FAB) - Energía Vital */
  .fab-main-button {
    @apply flex items-center justify-center border-none cursor-pointer shadow-lg;
    width: 70px;
    height: 70px;
    border-radius: 2rem;
    background: linear-gradient(135deg, #0EA5E9, #F97316);
    transition: all 400ms cubic-bezier(0.68, -0.55, 0.26, 1.55);
    @apply text-white;
  }

  .fab-main-button:active {
    @apply scale-90 rotate-2;
  }

  .fab-main-button.open {
    @apply rotate-[135deg];
    background: #1E293B; /* Slate 800 sólido al abrir */
  }
}

@layer utilities {
  /* 3. SISTEMA DE ANIMACIONES ZEN */
  .animate-wave-slow {
    animation: wave-apple 22s ease-in-out infinite;
  }
  
  .animate-wave-medium {
    animation: wave-apple 16s ease-in-out infinite reverse;
  }
  
  .animate-float {
    animation: float 7s ease-in-out infinite;
  }

  @keyframes wave-apple {
    0%, 100% { 
      border-radius: 35% 65% 70% 30% / 30% 40% 60% 70%; 
      transform: translate(0, 0) scale(1); 
    }
    33% { 
      border-radius: 50% 50% 35% 65% / 55% 55% 45% 45%; 
      transform: translate(2%, -3%) scale(1.02); 
    }
    66% { 
      border-radius: 65% 35% 55% 45% / 40% 35% 65% 60%; 
      transform: translate(-1%, 4%) scale(0.98); 
    }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
  }

  /* Ocultar scrollbar manteniendo funcionalidad para los Guías */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Sombra Hática KidUs */
  .shadow-haptic {
    box-shadow: 0 20px 40px -15px rgba(14, 165, 233, 0.3);
  }
}
